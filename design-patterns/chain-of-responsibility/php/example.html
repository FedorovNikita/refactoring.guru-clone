<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from refactoring.guru/design-patterns/chain-of-responsibility/php/example by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 07 Jun 2022 19:24:00 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# website: http://ogp.me/ns/website#">
    <meta charset="utf-8">
    <title>Design Patterns: Chain of Responsibility in PHP</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="alternate" href="example.html" hreflang="x-default"/>
    <link rel="alternate" href="../../../es/design-patterns/chain-of-responsibility/php/example.html" hreflang="es"/>
    <link rel="alternate" href="../../../fr/design-patterns/chain-of-responsibility/php/example.html" hreflang="fr"/>
    <link rel="alternate" href="../../../ja/design-patterns/chain-of-responsibility/php/example.html" hreflang="ja"/>
    <link rel="alternate" href="../../../ko/design-patterns/chain-of-responsibility/php/example.html" hreflang="ko"/>
    <link rel="alternate" href="../../../pl/design-patterns/chain-of-responsibility/php/example.html" hreflang="pl"/>
    <link rel="alternate" href="../../../pt-br/design-patterns/chain-of-responsibility/php/example.html" hreflang="pt-br"/>
    <link rel="alternate" href="../../../ru/design-patterns/chain-of-responsibility/php/example.html" hreflang="ru"/>
    <link rel="alternate" href="../../../uk/design-patterns/chain-of-responsibility/php/example.html" hreflang="uk"/>
    <link rel="alternate" href="https://refactoringguru.cn/design-patterns/chain-of-responsibility/php/example" hreflang="zh"/>

    <meta name="description" content="Chain of Responsibility pattern in PHP. Full code example in PHP with detailed comments and explanation. Chain of Responsibility is behavioral design pattern that allows passing request along the chain of potential handlers until one of them handles request.">

    <link rel="canonical" href="example.html"/>

    <link rel="icon" type="image/x-icon" href="../../../favicon.png"/>

<script type="application/ld+json">
{"@context": "http://schema.org", "@graph": [{"@type":"Person","@id":"https://refactoring.guru/#founder","name":"Alexander Shvets"},{"@type":"Organization","@id":"https://refactoring.guru/#organization","name":"Refactoring.Guru","description":"Refactoring.Guru makes it easy for you to discover everything you need to know about refactoring, design patterns, SOLID principles, and other smart programming topics.","image":{"@type":"ImageObject","@id":"https://refactoring.guru/#organizationlogo","url":"https://refactoring.guru/images/content-public/logos/logo-plain.png","caption":"Refactoring.Guru"},"logo":{"@id":"https://refactoring.guru/#organizationlogo"},"founder":{"@id":"https://refactoring.guru/#founder"},"sameAs":["https://www.facebook.com/refactoring.guru","https://twitter.com/RefactoringGuru","https://github.com/RefactoringGuru"]},{"@type":"WebSite","@id":"https://refactoring.guru/#website","url":"https://refactoring.guru/","name":"Refactoring.Guru","description":"Refactoring.Guru makes it easy for you to discover everything you need to know about refactoring, design patterns, SOLID principles, and other smart programming topics.","author":{"@id":"https://refactoring.guru/#founder"},"publisher":{"@id":"https://refactoring.guru/#organization"},"copyrightYear":2014},{"@type":"WebPage","@id":"https://refactoring.guru/design-patterns/chain-of-responsibility/php/example#webpage","url":"https://refactoring.guru/design-patterns/chain-of-responsibility/php/example","inLanguage":"en","name":"Design Patterns: Chain of Responsibility in PHP","description":"Chain of Responsibility pattern in PHP. Full code example in PHP with detailed comments and explanation. Chain of Responsibility is behavioral design pattern that allows passing request along the chain of potential handlers until one of them handles request.","isPartOf":{"@id":"https://refactoring.guru#website"},"breadcrumb":{"@id":"https://refactoring.guru/design-patterns/chain-of-responsibility/php/example#breadcrumb"},"primaryImageOfPage":{"@id":"https://refactoring.guru/design-patterns/chain-of-responsibility/php/example#primaryimage"},"image":{"@type":"ImageObject","@id":"https://refactoring.guru/design-patterns/chain-of-responsibility/php/example#primaryimage","url":"https://refactoring.guru/images/patterns/cards/chain-of-responsibility-mini-3x.png","width":420,"height":300}},{"@type":"Article","@id":"https://refactoring.guru/design-patterns/chain-of-responsibility/php/example#article","isPartOf":{"@id":"https://refactoring.guru/design-patterns/chain-of-responsibility/php/example#webpage"},"mainEntityOfPage":{"@id":"https://refactoring.guru/design-patterns/chain-of-responsibility/php/example#webpage"},"author":{"@id":"https://refactoring.guru#founder"},"publisher":{"@id":"https://refactoring.guru#organization"},"headline":"Design Patterns: Chain of Responsibility in PHP","datePublished":"2021-01-01","dateModified":"2022-01-01","articleSection":"Chain of Responsibility","image":{"@id":"https://refactoring.guru/design-patterns/chain-of-responsibility/php/example#primaryimage"}},{"@type":"BreadcrumbList","@id":"https://refactoring.guru/design-patterns/chain-of-responsibility/php/example#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://refactoring.guru"},{"@type":"ListItem","position":2,"name":"Design Patterns","item":"https://refactoring.guru/design-patterns"},{"@type":"ListItem","position":3,"name":"Chain of Responsibility","item":"https://refactoring.guru/design-patterns/chain-of-responsibility"},{"@type":"ListItem","position":4,"name":"PHP","item":"https://refactoring.guru/design-patterns/php"}]},{"@type":"SoftwareSourceCode","@id":"https://refactoring.guru/design-patterns/chain-of-responsibility/php/example#code","isPartOf":{"@id":"https://refactoring.guru/design-patterns/chain-of-responsibility/php/example#webpage"},"mainEntityOfPage":{"@id":"https://refactoring.guru/design-patterns/chain-of-responsibility/php/example#webpage"},"author":{"@id":"https://refactoring.guru#founder"},"publisher":{"@id":"https://refactoring.guru#organization"},"headline":"Design Patterns: Chain of Responsibility in PHP","datePublished":"2021-01-01","dateModified":"2022-01-01","programmingLanguage":"PHP","codeSampleType":"full"}] }
</script>

<meta property="fb:app_id" content="666819623386327" />
<meta property="og:type"  content="website" />
<meta property="og:image" content="https://refactoring.guru/images/refactoring/social/facebook-share-preview.png?id=dbf9e98269595be86eb668f365be6868"/>

        <link rel="stylesheet" href="../../../css/public-packed.min29c2.css?id=72df70415a2662bdd8f64ffd40983c30">

<style type="text/css">
    @font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:local("PT Sans"),local("PTSans-Regular"),url(../../../fonts/PTSans/ptsans-regular_cyrillic-extc4ca.woff2?1) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:local("PT Sans"),local("PTSans-Regular"),url(../../../fonts/PTSans/ptsans-regular_cyrillicc4ca.woff2?1) format("woff2");unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:local("PT Sans"),local("PTSans-Regular"),url(../../../fonts/PTSans/ptsans-regular_latin-extc4ca.woff2?1) format("woff2");unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:local("PT Sans"),local("PTSans-Regular"),url(../../../fonts/PTSans/ptsans-regular_latinc4ca.woff2?1) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:local("PT Sans"),local("PTSans-Regular"),url(../../../fonts/PTSans/ptsans-regular_enc4ca.woff2?1) format("woff2");unicode-range:U+0-FF,U+131,U+142,U+152,U+153,U+2BB,U+2BC,U+2C6,U+2DA,U+2DC,U+420,U+423,U+430,U+438-43A,U+43D,U+440,U+441,U+443,U+44C,U+457,U+2000-206F,U+2074,U+20AA-20AC,U+20B4,U+20B9,U+20BA,U+20BD,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:local("PT Sans Bold"),local("PTSans-Bold"),url(../../../fonts/PTSans/ptsans-bold_cyrillic-extc4ca.woff2?1) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:local("PT Sans Bold"),local("PTSans-Bold"),url(../../../fonts/PTSans/ptsans-bold_cyrillicc4ca.woff2?1) format("woff2");unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:local("PT Sans Bold"),local("PTSans-Bold"),url(../../../fonts/PTSans/ptsans-bold_latin-extc4ca.woff2?1) format("woff2");unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:local("PT Sans Bold"),local("PTSans-Bold"),url(../../../fonts/PTSans/ptsans-bold_latinc4ca.woff2?1) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:local("PT Sans Bold"),local("PTSans-Bold"),url(../../../fonts/PTSans/ptsans-bold_enc4ca.woff2?1) format("woff2");unicode-range:U+0-FF,U+131,U+142,U+152,U+153,U+2BB,U+2BC,U+2C6,U+2DA,U+2DC,U+420,U+423,U+430,U+438-43A,U+43D,U+440,U+441,U+443,U+44C,U+457,U+2000-206F,U+2074,U+20AA-20AC,U+20B4,U+20B9,U+20BA,U+20BD,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}
</style>
<link rel="preload" href="../../../fonts/PTSans/ptsans-regular_enc4ca.woff2?1" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="../../../fonts/PTSans/ptsans-bold_enc4ca.woff2?1" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="../../../fonts/fontello/fontawesomea92a.woff2?15843843" as="font" type="font/woff2" crossorigin>


<script defer src="../../../js/public.min1749.js?id=77d40430343920ca57d184f85668a382"></script>



</head>
<body class="locale-en    announcement   chain-of-responsibility-in-php" data-body_class="chain-of-responsibility-in-php">

<div class="body-holder">


            <div class="announcement-block prom" data-id="DIDP-announcement" data-creative-id="en" data-position="top"><div class="announcement-block-inner">
            <img src="../../../images/content-public/announcement-en-17032.svg?id=2b6bba0470947f2a60cdac20b809cf3d" loading="lazy" style="width: 36px; height:36px;">
                Hey, I have just reduced the price for all products. Let's prepare our programming skills for the post-COVID era. <a href="../../../store.html">Check it out »</a>
            <img src="../../../images/content-public/announcement-en-26d3b.svg?id=d0c7bf36cfcc7c733fad50a30fd99920" loading="lazy" style="width: 36px; height:36px;">
        </div></div>
    
    <div class="cart-placeholder">
    <div class="cart-block-container" style="display:none">
        <div class="cart-block btn-group">
            <a href="#checkout" class="btn cart open-checkout">
                <span class="cart-text"></span>&nbsp;<strong class="cart-total font-money"></strong>
            </a><a href="#checkout" class="btn btn-secondary checkout open-checkout"><i class="fa fa-shopping-cart" aria-hidden="true"></i> <span class="btn-text-span d-none d-sm-inline-block d-lg-none d-hg-inline-block"></span></a>
        </div>
    </div>
</div>
    <main role="main" class="main-content top-content center-content " data-page_class="">
        <div class="main-content-container center-content-container">
                        <div class="pattern pattern-example page text">
<article>
    <div class="breadcrumb">
                                    <a class="home" href="../../../index.html"><i class="fa fa-home" aria-hidden="true"></i></a>
                                                / <a class="type" href="../../../design-patterns.html">Design Patterns</a>
                                                / <a class="type" href="../../chain-of-responsibility.html">Chain of Responsibility</a>
                                                / <a class="type" href="../../php.html">PHP</a>
                        </div>

    <a href="../../chain-of-responsibility.html" class="pattern-card-example chain-of-responsibility-in-php">
        <span class="pattern-image"><img alt="Chain of Responsibility" src="../../../images/patterns/cards/chain-of-responsibility-mini6d42.png?id=36d85eba8d14986f053123de17aac7a7" srcset="/images/patterns/cards/chain-of-responsibility-mini-2x.png?id=8c81f7069e51259b2443801b91135f7f 2x"></span>
    </a>

    <h1 class="title"><strong>Chain of Responsibility</strong> in PHP</h1>

    <div class="pattern-example-brief">
        <p class="big"><b>Chain of Responsibility</b> is behavioral design pattern that allows passing request along the chain of potential handlers until one of them handles request.</p>
<p>The pattern allows multiple objects to handle the request without coupling sender class to the concrete classes of the receivers. The chain can be composed dynamically at runtime with any handler that follows a standard handler interface.</p>

    </div>

    <div style="text-align:center; margin-bottom: 40px;">
        <a href="../../chain-of-responsibility.html" class="btn btn-lg btn-primary"><i class="fa fa-newspaper" aria-hidden="true"></i> Learn more about Chain of Responsibility <i class="fa fa-arrow-right" aria-hidden="true"></i></a>
    </div>

        <h2 id="lang-features">Usage of the pattern in PHP</h2>

    <p><strong>Complexity:</strong> <span class="fa-stars"><i class="fa fa-fw fa-star" aria-hidden="true"></i><i class="fa fa-fw fa-star" aria-hidden="true"></i><i class="fa fa-fw fa-star-o" aria-hidden="true"></i></span></p>
<p><strong>Popularity:</strong> <span class="fa-stars"><i class="fa fa-fw fa-star" aria-hidden="true"></i><i class="fa fa-fw fa-star-o" aria-hidden="true"></i><i class="fa fa-fw fa-star-o" aria-hidden="true"></i></span></p>
<p><strong>Usage examples:</strong> The Chain of Responsibility pattern isn’t very common in PHP because it requires the program to have chains of objects. Arguably, one of the most famous examples of using this pattern in PHP is <a href="https://www.php-fig.org/psr/psr-15/">HTTP Request Middleware</a> described in PSR-15.</p>
<p><strong>Identification:</strong> The pattern is recognizable by behavioral methods of one group of objects that indirectly call the same methods in other objects, while all the objects follow the common interface.</p>

    
    <div class="sidebar-navigation with-scroll">
            
        <div class="en-title">
            Navigation
        </div>

                    
        <div class="en-intro">
            <i class="fa fa-fw fa-newspaper" aria-hidden="true"></i>&nbsp;<a href="#">Intro</a>
        </div>

                    
        <div class="en-intro">
            <i class="fa fa-fw fa-newspaper" aria-hidden="true"></i>&nbsp;<a href="#example-0">Conceptual Example</a>
        </div>

                    
        <div class="en-file">
            <i class="fa fa-fw fa-file-code" aria-hidden="true"></i>&nbsp;<a href="#example-0--index-php">index</a>
        </div>

                    
        <div class="en-file">
            <i class="fa fa-fw fa-file-text" aria-hidden="true"></i>&nbsp;<a href="#example-0--Output-txt">Output</a>
        </div>

                    
        <div class="en-intro">
            <i class="fa fa-fw fa-newspaper" aria-hidden="true"></i>&nbsp;<a href="#example-1">Real World Example</a>
        </div>

                    
        <div class="en-file">
            <i class="fa fa-fw fa-file-code" aria-hidden="true"></i>&nbsp;<a href="#example-1--index-php">index</a>
        </div>

                    
        <div class="en-file">
            <i class="fa fa-fw fa-file-text" aria-hidden="true"></i>&nbsp;<a href="#example-1--Output-txt">Output</a>
        </div>

                </div>

            <nav class="pattern-example-tabs">
            <div class="nav nav-tabs nav-justified" id="nav-tab" role="tablist">
                                <a class="nav-item nav-link active" id="example-0-tab" data-toggle="tab" href="#example-0" role="tab" aria-controls="example-0" aria-selected="true">Conceptual Example</a>
                                <a class="nav-item nav-link " id="example-1-tab" data-toggle="tab" href="#example-1" role="tab" aria-controls="example-1" aria-selected="true">Real World Example</a>
                            </div>
        </nav>
        <div class="pattern-example-tab-content tab-content" id="nav-tabContent">
                            <div class="tab-pane show active" id="example-0" role="tabpanel" aria-labelledby="example-0-tab" style="padding-top: 24px">
                    <h2 id="example-0-title">Conceptual Example</h2>
                    <p>This example illustrates the structure of the <strong>Chain of Responsibility</strong> design pattern and focuses on the following questions:</p>
<ul>
<li>What classes does it consist of?</li>
<li>What roles do these classes play?</li>
<li>In what way the elements of the pattern are related?</li>
</ul>
<p>After learning about the pattern’s structure it’ll be easier for you to grasp the following example, based on a real-world PHP use case.</p>
<h4><a class="anchor" id="example-0--index-php"><i class="fa fa-fw fa-file-code" aria-hidden="true"></i></a> <strong>index.php:</strong>  Conceptual example</h4>
<figure class="code">
<pre class="code" lang="php">&lt;?php

namespace RefactoringGuru\ChainOfResponsibility\Conceptual;

/**
 * The Handler interface declares a method for building the chain of handlers.
 * It also declares a method for executing a request.
 */
interface Handler
{
    public function setNext(Handler $handler): Handler;

    public function handle(string $request): ?string;
}

/**
 * The default chaining behavior can be implemented inside a base handler class.
 */
abstract class AbstractHandler implements Handler
{
    /**
     * @var Handler
     */
    private $nextHandler;

    public function setNext(Handler $handler): Handler
    {
        $this-&gt;nextHandler = $handler;
        // Returning a handler from here will let us link handlers in a
        // convenient way like this:
        // $monkey-&gt;setNext($squirrel)-&gt;setNext($dog);
        return $handler;
    }

    public function handle(string $request): ?string
    {
        if ($this-&gt;nextHandler) {
            return $this-&gt;nextHandler-&gt;handle($request);
        }

        return null;
    }
}

/**
 * All Concrete Handlers either handle a request or pass it to the next handler
 * in the chain.
 */
class MonkeyHandler extends AbstractHandler
{
    public function handle(string $request): ?string
    {
        if ($request === &quot;Banana&quot;) {
            return &quot;Monkey: I'll eat the &quot; . $request . &quot;.\n&quot;;
        } else {
            return parent::handle($request);
        }
    }
}

class SquirrelHandler extends AbstractHandler
{
    public function handle(string $request): ?string
    {
        if ($request === &quot;Nut&quot;) {
            return &quot;Squirrel: I'll eat the &quot; . $request . &quot;.\n&quot;;
        } else {
            return parent::handle($request);
        }
    }
}

class DogHandler extends AbstractHandler
{
    public function handle(string $request): ?string
    {
        if ($request === &quot;MeatBall&quot;) {
            return &quot;Dog: I'll eat the &quot; . $request . &quot;.\n&quot;;
        } else {
            return parent::handle($request);
        }
    }
}

/**
 * The client code is usually suited to work with a single handler. In most
 * cases, it is not even aware that the handler is part of a chain.
 */
function clientCode(Handler $handler)
{
    foreach ([&quot;Nut&quot;, &quot;Banana&quot;, &quot;Cup of coffee&quot;] as $food) {
        echo &quot;Client: Who wants a &quot; . $food . &quot;?\n&quot;;
        $result = $handler-&gt;handle($food);
        if ($result) {
            echo &quot;  &quot; . $result;
        } else {
            echo &quot;  &quot; . $food . &quot; was left untouched.\n&quot;;
        }
    }
}

/**
 * The other part of the client code constructs the actual chain.
 */
$monkey = new MonkeyHandler();
$squirrel = new SquirrelHandler();
$dog = new DogHandler();

$monkey-&gt;setNext($squirrel)-&gt;setNext($dog);

/**
 * The client should be able to send a request to any handler, not just the
 * first one in the chain.
 */
echo &quot;Chain: Monkey &gt; Squirrel &gt; Dog\n\n&quot;;
clientCode($monkey);
echo &quot;\n&quot;;

echo &quot;Subchain: Squirrel &gt; Dog\n\n&quot;;
clientCode($squirrel);
</pre>
</figure>
<h4><a class="anchor" id="example-0--Output-txt"><i class="fa fa-fw fa-file-text" aria-hidden="true"></i></a> <strong>Output.txt:</strong>  Execution result</h4>
<figure class="code">
<pre class="code" lang="output">Chain: Monkey &gt; Squirrel &gt; Dog

Client: Who wants a Nut?
  Squirrel: I'll eat the Nut.
Client: Who wants a Banana?
  Monkey: I'll eat the Banana.
Client: Who wants a Cup of coffee?
  Cup of coffee was left untouched.

Subchain: Squirrel &gt; Dog

Client: Who wants a Nut?
  Squirrel: I'll eat the Nut.
Client: Who wants a Banana?
  Banana was left untouched.
Client: Who wants a Cup of coffee?
  Cup of coffee was left untouched.
</pre>
</figure>

                </div>
                            <div class="tab-pane " id="example-1" role="tabpanel" aria-labelledby="example-1-tab" style="padding-top: 24px">
                    <h2 id="example-1-title">Real World Example</h2>
                    <p>The most widely known use of the <strong>Chain of Responsibility</strong> (CoR) pattern in the PHP world is found in HTTP request middleware. These are implemented by the most popular PHP frameworks and even got standardized as part of PSR-15.</p>
<p>It works like this: an HTTP request must pass through a stack of middleware objects in order to be handled by the app. Each middleware can either reject the further processing of the request or pass it to the next middleware. Once the request successfully passes all middleware, the primary handler of the app can finally handle it.</p>
<p>You might have noticed that this approach is kind of inverse to the original intent of the pattern. Indeed, in the typical implementation, a request is only passed along a chain if a current handler Can’t process it, while a middleware passes the request further down the chain when it thinks that the app CAN handle the request. Nevertheless, since middleware objects are chained, the whole concept is still considered an example of the CoR pattern.</p>
<h4><a class="anchor" id="example-1--index-php"><i class="fa fa-fw fa-file-code" aria-hidden="true"></i></a> <strong>index.php:</strong>  Real world example</h4>
<figure class="code">
<pre class="code" lang="php">&lt;?php

namespace RefactoringGuru\ChainOfResponsibility\RealWorld;

/**
 * The classic CoR pattern declares a single role for objects that make up a
 * chain, which is a Handler. In our example, let's differentiate between
 * middleware and a final application's handler, which is executed when a
 * request gets through all the middleware objects.
 *
 * The base Middleware class declares an interface for linking middleware
 * objects into a chain.
 */
abstract class Middleware
{
    /**
     * @var Middleware
     */
    private $next;

    /**
     * This method can be used to build a chain of middleware objects.
     */
    public function linkWith(Middleware $next): Middleware
    {
        $this-&gt;next = $next;

        return $next;
    }

    /**
     * Subclasses must override this method to provide their own checks. A
     * subclass can fall back to the parent implementation if it can't process a
     * request.
     */
    public function check(string $email, string $password): bool
    {
        if (!$this-&gt;next) {
            return true;
        }

        return $this-&gt;next-&gt;check($email, $password);
    }
}

/**
 * This Concrete Middleware checks whether a user with given credentials exists.
 */
class UserExistsMiddleware extends Middleware
{
    private $server;

    public function __construct(Server $server)
    {
        $this-&gt;server = $server;
    }

    public function check(string $email, string $password): bool
    {
        if (!$this-&gt;server-&gt;hasEmail($email)) {
            echo &quot;UserExistsMiddleware: This email is not registered!\n&quot;;

            return false;
        }

        if (!$this-&gt;server-&gt;isValidPassword($email, $password)) {
            echo &quot;UserExistsMiddleware: Wrong password!\n&quot;;

            return false;
        }

        return parent::check($email, $password);
    }
}

/**
 * This Concrete Middleware checks whether a user associated with the request
 * has sufficient permissions.
 */
class RoleCheckMiddleware extends Middleware
{
    public function check(string $email, string $password): bool
    {
        if ($email === &quot;admin@example.com&quot;) {
            echo &quot;RoleCheckMiddleware: Hello, admin!\n&quot;;

            return true;
        }
        echo &quot;RoleCheckMiddleware: Hello, user!\n&quot;;

        return parent::check($email, $password);
    }
}

/**
 * This Concrete Middleware checks whether there are too many failed login
 * requests.
 */
class ThrottlingMiddleware extends Middleware
{
    private $requestPerMinute;

    private $request;

    private $currentTime;

    public function __construct(int $requestPerMinute)
    {
        $this-&gt;requestPerMinute = $requestPerMinute;
        $this-&gt;currentTime = time();
    }

    /**
     * Please, note that the parent::check call can be inserted both at the
     * beginning of this method and at the end.
     *
     * This gives much more flexibility than a simple loop over all middleware
     * objects. For instance, a middleware can change the order of checks by
     * running its check after all the others.
     */
    public function check(string $email, string $password): bool
    {
        if (time() &gt; $this-&gt;currentTime + 60) {
            $this-&gt;request = 0;
            $this-&gt;currentTime = time();
        }

        $this-&gt;request++;

        if ($this-&gt;request &gt; $this-&gt;requestPerMinute) {
            echo &quot;ThrottlingMiddleware: Request limit exceeded!\n&quot;;
            die();
        }

        return parent::check($email, $password);
    }
}

/**
 * This is an application's class that acts as a real handler. The Server class
 * uses the CoR pattern to execute a set of various authentication middleware
 * before launching some business logic associated with a request.
 */
class Server
{
    private $users = [];

    /**
     * @var Middleware
     */
    private $middleware;

    /**
     * The client can configure the server with a chain of middleware objects.
     */
    public function setMiddleware(Middleware $middleware): void
    {
        $this-&gt;middleware = $middleware;
    }

    /**
     * The server gets the email and password from the client and sends the
     * authorization request to the middleware.
     */
    public function logIn(string $email, string $password): bool
    {
        if ($this-&gt;middleware-&gt;check($email, $password)) {
            echo &quot;Server: Authorization has been successful!\n&quot;;

            // Do something useful for authorized users.

            return true;
        }

        return false;
    }

    public function register(string $email, string $password): void
    {
        $this-&gt;users[$email] = $password;
    }

    public function hasEmail(string $email): bool
    {
        return isset($this-&gt;users[$email]);
    }

    public function isValidPassword(string $email, string $password): bool
    {
        return $this-&gt;users[$email] === $password;
    }
}

/**
 * The client code.
 */
$server = new Server();
$server-&gt;register(&quot;admin@example.com&quot;, &quot;admin_pass&quot;);
$server-&gt;register(&quot;user@example.com&quot;, &quot;user_pass&quot;);

// All middleware are chained. The client can build various configurations of
// chains depending on its needs.
$middleware = new ThrottlingMiddleware(2);
$middleware
    -&gt;linkWith(new UserExistsMiddleware($server))
    -&gt;linkWith(new RoleCheckMiddleware());

// The server gets a chain from the client code.
$server-&gt;setMiddleware($middleware);

// ...

do {
    echo &quot;\nEnter your email:\n&quot;;
    $email = readline();
    echo &quot;Enter your password:\n&quot;;
    $password = readline();
    $success = $server-&gt;logIn($email, $password);
} while (!$success);
</pre>
</figure>
<h4><a class="anchor" id="example-1--Output-txt"><i class="fa fa-fw fa-file-text" aria-hidden="true"></i></a> <strong>Output.txt:</strong>  Execution result</h4>
<figure class="code">
<pre class="code" lang="output">Enter your email:
asd
Enter your password:
123
UserExistsMiddleware: This email is not registered!

Enter your email:
admin@example.com
Enter your password:
wrong
UserExistsMiddleware: Wrong password!

Enter your email:
admin@example.com
Enter your password:
letmein
ThrottlingMiddleware: Request limit exceeded!



Enter your email:
admin@example.com
Enter your password:
admin_pass
RoleCheckMiddleware: Hello, admin!
Server: Authorization has been successful!
</pre>
</figure>

                </div>
                    </div>
    
    

    </article>

<nav class="prev-next">
                    <div class="next">
                <h4>Read next</h4>
                <a rel="next" href="../../command/php/example.html" class="btn btn-primary">Design Patterns: Command in PHP&nbsp;<span class="fa fa-arrow-right"></span></a>
            </div>
                            <div class="prev">
                <h4>Return</h4>
                <a rel="prev" href="../../proxy/php/example.html" class="btn btn-default"><span class="fa fa-arrow-left"></span>&nbsp;Design Patterns: Proxy in PHP </a>
            </div>
            </nav>

<h2><strong>Chain of Responsibility</strong> in Other Languages</h2>

<a href="../java/example.html" title="Design Patterns: Chain of Responsibility in Java" class="prog-lang-link"><img src="../../../images/patterns/icons/java9ca9.svg?id=e6d87e2dca08c953fe3acd1275ed4f4e" alt="Design Patterns: Chain of Responsibility in Java"></a>
<a href="../csharp/example.html" title="Design Patterns: Chain of Responsibility in C#" class="prog-lang-link"><img src="../../../images/patterns/icons/csharp8c8a.svg?id=da64592defc6e86d57c39c66e9de3e58" alt="Design Patterns: Chain of Responsibility in C#"></a>
<a href="../cpp/example.html" title="Design Patterns: Chain of Responsibility in C++" class="prog-lang-link"><img src="../../../images/patterns/icons/cpp9770.svg?id=f7782ed8b8666246bfcc3f8fefc3b858" alt="Design Patterns: Chain of Responsibility in C++"></a>
<a href="../python/example.html" title="Design Patterns: Chain of Responsibility in Python" class="prog-lang-link"><img src="../../../images/patterns/icons/python25f6.svg?id=6d815d43c0f7050a1151b43e51569c9f" alt="Design Patterns: Chain of Responsibility in Python"></a>
<a href="../ruby/example.html" title="Design Patterns: Chain of Responsibility in Ruby" class="prog-lang-link"><img src="../../../images/patterns/icons/ruby3275.svg?id=b065b718c914bf8e960ef731600be1eb" alt="Design Patterns: Chain of Responsibility in Ruby"></a>
<a href="../swift/example.html" title="Design Patterns: Chain of Responsibility in Swift" class="prog-lang-link"><img src="../../../images/patterns/icons/swift68dd.svg?id=0b716c2d52ec3a48fbe91ac031070c1d" alt="Design Patterns: Chain of Responsibility in Swift"></a>
<a href="../typescript/example.html" title="Design Patterns: Chain of Responsibility in TypeScript" class="prog-lang-link"><img src="../../../images/patterns/icons/typescript325e.svg?id=2239d0f16cb703540c205dd8cb0c0cb7" alt="Design Patterns: Chain of Responsibility in TypeScript"></a>
<a href="../go/example.html" title="Design Patterns: Chain of Responsibility in Go" class="prog-lang-link"><img src="../../../images/patterns/icons/go3287.svg?id=1a89927eb99b1ea3fde7701d97970aca" alt="Design Patterns: Chain of Responsibility in Go"></a>

</div>

<aside class="feature content-secondary">
    <div class="prom banner-sidebar banner banner-striped banner-examples" data-id="DP: Examples-IDE" data-creative-id="examples-sidebar-en" data-position="sidebar">
        <div class="banner-inner" style="font-size: 14px; line-height: 21px;">
            <div class="banner-examples-img">
                <a href="../../book.html">
                    <img width="215" height="158" loading="lazy" src="../../../images/patterns/banners/examples-ide91ca.png?id=3115b4b548fb96b75974e2de8f4f49bc" srcset="/images/patterns/banners/examples-ide-2x.png?id=93c007a6d157b97c28eb213f59d716ae 2x">
                </a>
            </div>
            <div class="banner-examples-fade">
                <a href="../../book.html" class="btn btn-secondary btn-block"><i class="fa fa-file-archive" aria-hidden="true"></i> Archive with examples</a>
            </div>
            <div class="banner-examples-text" style="margin-top: 1rem;">
                <p>Buy the eBook <b>Dive Into Design Patterns</b> and get the access to archive with dozens of detailed examples that can be opened right in your IDE.</p>
                <a href="../../book.html" class="btn btn-secondary btn-block"><i class="fa fa-book" aria-hidden="true"></i> Learn more…</a>
            </div>
        </div>
    </div>


</aside>
                    </div>
    </main>

    <nav class="navigation" role="navigation">
    <div class="navigation-container">
        <a href="#menu" class="navigation-toggle"><i class="fa fa-bars"></i></a>
        <a class="navigation-brand" href="../../../index.html">
            <img alt="Refactoring.Guru" src="../../../images/content-public/logos/logo-military-mobile78b4.png?id=65ecbd1e688fc695bc20c22a1e8450d9" srcset="/images/content-public/logos/logo-military-mobile-2x.png?id=0f52141f57f67fb678da8407e254b0a3 2x"
                  width="94"                   height="64"             >
        </a>
        <div class="social-likes-block" data-url="../../../index.html">
    <div data-service="facebook" class="facebook" title="Share on Facebook">Facebook</div>
        <div data-service="twitter" class="twitter" title="Share on Twitter">Twitter</div>
</div>        <ul class="navigation-menu">
                        <li class="dropdown d-lg-none">
                <a class="dropdown-toggle" id="dropdownLanguage" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fa fa-globe" aria-hidden="true"></i> <span class="caption d-none d-xl-inline-block">Language</span>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownLanguage">
                                                                                                        <a href="example.html" class="dropdown-item locale-link active" data-locale="en" title="English">English</a>
                                                                                                                <a href="../../../es/design-patterns/chain-of-responsibility/php/example.html" class="dropdown-item locale-link " data-locale="es" title="Español">Español</a>
                                                                                                                <a href="../../../fr/design-patterns/chain-of-responsibility/php/example.html" class="dropdown-item locale-link " data-locale="fr" title="Français">Français</a>
                                                                                                                                                                                                                        <a href="../../../pl/design-patterns/chain-of-responsibility/php/example.html" class="dropdown-item locale-link " data-locale="pl" title="Polski">Polski</a>
                                                                                                                <a href="../../../pt-br/design-patterns/chain-of-responsibility/php/example.html" class="dropdown-item locale-link " data-locale="pt-br" title="Português Brasileiro">Português Brasileiro</a>
                                                                                                                <a href="../../../ru/design-patterns/chain-of-responsibility/php/example.html" class="dropdown-item locale-link " data-locale="ru" title="Русский">Русский</a>
                                                                                                                <a href="../../../uk/design-patterns/chain-of-responsibility/php/example.html" class="dropdown-item locale-link " data-locale="uk" title="Українська">Українська</a>
                                                                                                                <a href="https://refactoringguru.cn/design-patterns/chain-of-responsibility/php/example" class="dropdown-item locale-link " data-locale="zh" title="中文">中文</a>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </div>
            </li>
                        <li class="nav-contact">
                <a class="userecho-private" href="https://feedback.refactoring.guru/?show_feedback_form_private=true" rel="nofollow" title="Contact us">
                    <i class="fa fa-envelope"></i> <span class="caption d-none d-xl-inline-block">Contact us</span>
                </a>
            </li>
                                                <li class="nav-login">
                        <a href="../../../login.html" title="Log in"><i class="fa fa-user"></i> <span class="caption d-none d-xl-inline-block">Log in</span></a>
                    </li>
                                    </ul>
    </div>
    <div>
        <a class="russia-stop" href="../../../help-ukraine.html">
                            HELP UKRAINE <b>STOP RUSSIA</b>
                    </a>
    </div>
</nav>
    <aside class="sidebar main-menu nano">
    <a href="#menu-close" class="navigation-toggle"><i class="fa fa-fw fa-times"></i></a>
    <div class="nano-content">
                    <div class="main-menu-lang d-none d-lg-flex main-menu-lang-count-8">
                                                                                        <a href="example.html" class="locale-link locale-link-en active" data-locale="en" title="English"><span class="d-lg-none">English</span><span class="d-none d-lg-inline">English</span></a>
                                                                                                <a href="../../../es/design-patterns/chain-of-responsibility/php/example.html" class="locale-link locale-link-es " data-locale="es" title="Español"><span class="d-lg-none">Español</span><span class="d-none d-lg-inline">Español</span></a>
                                                                                                <a href="../../../fr/design-patterns/chain-of-responsibility/php/example.html" class="locale-link locale-link-fr " data-locale="fr" title="Français"><span class="d-lg-none">Français</span><span class="d-none d-lg-inline">Français</span></a>
                                                                                                                                                                                        <a href="../../../pl/design-patterns/chain-of-responsibility/php/example.html" class="locale-link locale-link-pl " data-locale="pl" title="Polski"><span class="d-lg-none">Polski</span><span class="d-none d-lg-inline">Polski</span></a>
                                                                                                <a href="../../../pt-br/design-patterns/chain-of-responsibility/php/example.html" class="locale-link locale-link-pt-br " data-locale="pt-br" title="Português Brasileiro"><span class="d-lg-none">Português Brasileiro</span><span class="d-none d-lg-inline">Português-Br</span></a>
                                                                                                <a href="../../../ru/design-patterns/chain-of-responsibility/php/example.html" class="locale-link locale-link-ru " data-locale="ru" title="Русский"><span class="d-lg-none">Русский</span><span class="d-none d-lg-inline">Русский</span></a>
                                                                                                <a href="../../../uk/design-patterns/chain-of-responsibility/php/example.html" class="locale-link locale-link-uk " data-locale="uk" title="Українська"><span class="d-lg-none">Українська</span><span class="d-none d-lg-inline">Українська</span></a>
                                                                                                <a href="https://refactoringguru.cn/design-patterns/chain-of-responsibility/php/example" class="locale-link locale-link-zh " data-locale="zh" title="中文"><span class="d-lg-none">中文</span><span class="d-none d-lg-inline">中文</span></a>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                </div>
        
        <a class="menu-brand" href="../../../index.html">
                            <img width=200 height=241 loading="lazy" alt="Refactoring.Guru" src="../../../images/content-public/logos/logo-militaryd1c3.png?id=3eaf203cb26279327252e2c5f5d37c7f" srcset="/images/content-public/logos/logo-military-2x.png?id=5af1a599d8a4170c9a42e6fa18148b98 2x">
                    </a>
        <div>
            <a class="russia-stop" href="../../../help-ukraine.html">
                                    HELP UKRAINE
                    <br><b>STOP RUSSIA</b>
                            </a>
        </div>


        <div class="menu-container" style="position: relative">
                        <ul class="menu-list">
                            <li class="featured">
            <a href="../../../store.html">
                <i class="fa fa-fw fa-star" aria-hidden="true"></i> Premium Content
            </a>
    
            <ul >
                            <li class="featured menu-fs15">
            <a href="../../book.html">
                <i class="fa fa-fw fa-book" aria-hidden="true"></i> Design Patterns eBook
            </a>
    
    
            </li>
                                <li class="featured menu-fs15">
            <a href="../../../refactoring/course.html">
                <i class="fa fa-fw fa-graduation-cap" aria-hidden="true"></i> Refactoring Course
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="../../../refactoring.html">
                <i class="fa fa-fw fa-scissors" aria-hidden="true"></i> Refactoring
            </a>
    
            <ul >
                            <li class="">
            <a href="../../../refactoring/what-is-refactoring.html">
                What is Refactoring
            </a>
    
            <ul >
                            <li class="">
            <a href="../../../refactoring/what-is-refactoring.html">
                Clean code
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../refactoring/technical-debt.html">
                Technical debt
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../refactoring/when.html">
                When to refactor
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../refactoring/how-to.html">
                How to refactor
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="../../../refactoring/catalog.html">
                Catalog
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../refactoring/smells.html">
                Code Smells
            </a>
    
            <ul >
                            <li class="">
            <a href="../../../refactoring/smells/bloaters.html">
                Bloaters
            </a>
    
            <ul >
                            <li class="">
            <a href="../../../smells/long-method.html">
                Long Method
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../smells/large-class.html">
                Large Class
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../smells/primitive-obsession.html">
                Primitive Obsession
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../smells/long-parameter-list.html">
                Long Parameter List
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../smells/data-clumps.html">
                Data Clumps
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="../../../refactoring/smells/oo-abusers.html">
                Object-Orientation Abusers
            </a>
    
            <ul >
                            <li class="">
            <a href="../../../smells/switch-statements.html">
                Switch Statements
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../smells/temporary-field.html">
                Temporary Field
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../smells/refused-bequest.html">
                Refused Bequest
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../smells/alternative-classes-with-different-interfaces.html">
                Alternative Classes with Different Interfaces
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="../../../refactoring/smells/change-preventers.html">
                Change Preventers
            </a>
    
            <ul >
                            <li class="">
            <a href="../../../smells/divergent-change.html">
                Divergent Change
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../smells/shotgun-surgery.html">
                Shotgun Surgery
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../smells/parallel-inheritance-hierarchies.html">
                Parallel Inheritance Hierarchies
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="../../../refactoring/smells/dispensables.html">
                Dispensables
            </a>
    
            <ul >
                            <li class="">
            <a href="../../../smells/comments.html">
                Comments
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../smells/duplicate-code.html">
                Duplicate Code
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../smells/lazy-class.html">
                Lazy Class
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../smells/data-class.html">
                Data Class
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../smells/dead-code.html">
                Dead Code
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../smells/speculative-generality.html">
                Speculative Generality
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="../../../refactoring/smells/couplers.html">
                Couplers
            </a>
    
            <ul >
                            <li class="">
            <a href="../../../smells/feature-envy.html">
                Feature Envy
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../smells/inappropriate-intimacy.html">
                Inappropriate Intimacy
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../smells/message-chains.html">
                Message Chains
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../smells/middle-man.html">
                Middle Man
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="../../../refactoring/smells/other.html">
                Other Smells
            </a>
    
            <ul >
                            <li class="">
            <a href="../../../smells/incomplete-library-class.html">
                Incomplete Library Class
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="../../../refactoring/techniques.html">
                Refactorings
            </a>
    
            <ul >
                            <li class="">
            <a href="../../../refactoring/techniques/composing-methods.html">
                Composing Methods
            </a>
    
            <ul >
                            <li class="">
            <a href="../../../extract-method.html">
                Extract Method
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../inline-method.html">
                Inline Method
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../extract-variable.html">
                Extract Variable
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../inline-temp.html">
                Inline Temp
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../replace-temp-with-query.html">
                Replace Temp with Query
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../split-temporary-variable.html">
                Split Temporary Variable
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../remove-assignments-to-parameters.html">
                Remove Assignments to Parameters
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../replace-method-with-method-object.html">
                Replace Method with Method Object
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../substitute-algorithm.html">
                Substitute Algorithm
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="../../../refactoring/techniques/moving-features-between-objects.html">
                Moving Features between Objects
            </a>
    
            <ul >
                            <li class="">
            <a href="../../../move-method.html">
                Move Method
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../move-field.html">
                Move Field
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../extract-class.html">
                Extract Class
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../inline-class.html">
                Inline Class
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../hide-delegate.html">
                Hide Delegate
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../remove-middle-man.html">
                Remove Middle Man
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../introduce-foreign-method.html">
                Introduce Foreign Method
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../introduce-local-extension.html">
                Introduce Local Extension
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="../../../refactoring/techniques/organizing-data.html">
                Organizing Data
            </a>
    
            <ul >
                            <li class="">
            <a href="../../../self-encapsulate-field.html">
                Self Encapsulate Field
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../replace-data-value-with-object.html">
                Replace Data Value with Object
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../change-value-to-reference.html">
                Change Value to Reference
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../change-reference-to-value.html">
                Change Reference to Value
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../replace-array-with-object.html">
                Replace Array with Object
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../duplicate-observed-data.html">
                Duplicate Observed Data
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../change-unidirectional-association-to-bidirectional.html">
                Change Unidirectional Association to Bidirectional
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../change-bidirectional-association-to-unidirectional.html">
                Change Bidirectional Association to Unidirectional
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../replace-magic-number-with-symbolic-constant.html">
                Replace Magic Number with Symbolic Constant
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../encapsulate-field.html">
                Encapsulate Field
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../encapsulate-collection.html">
                Encapsulate Collection
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../replace-type-code-with-class.html">
                Replace Type Code with Class
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../replace-type-code-with-subclasses.html">
                Replace Type Code with Subclasses
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../replace-type-code-with-state-strategy.html">
                Replace Type Code with State/Strategy
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../replace-subclass-with-fields.html">
                Replace Subclass with Fields
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="../../../refactoring/techniques/simplifying-conditional-expressions.html">
                Simplifying Conditional Expressions
            </a>
    
            <ul >
                            <li class="">
            <a href="../../../decompose-conditional.html">
                Decompose Conditional
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../consolidate-conditional-expression.html">
                Consolidate Conditional Expression
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../consolidate-duplicate-conditional-fragments.html">
                Consolidate Duplicate Conditional Fragments
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../remove-control-flag.html">
                Remove Control Flag
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../replace-nested-conditional-with-guard-clauses.html">
                Replace Nested Conditional with Guard Clauses
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../replace-conditional-with-polymorphism.html">
                Replace Conditional with Polymorphism
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../introduce-null-object.html">
                Introduce Null Object
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../introduce-assertion.html">
                Introduce Assertion
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="../../../refactoring/techniques/simplifying-method-calls.html">
                Simplifying Method Calls
            </a>
    
            <ul >
                            <li class="">
            <a href="../../../rename-method.html">
                Rename Method
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../add-parameter.html">
                Add Parameter
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../remove-parameter.html">
                Remove Parameter
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../separate-query-from-modifier.html">
                Separate Query from Modifier
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../parameterize-method.html">
                Parameterize Method
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../replace-parameter-with-explicit-methods.html">
                Replace Parameter with Explicit Methods
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../preserve-whole-object.html">
                Preserve Whole Object
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../replace-parameter-with-method-call.html">
                Replace Parameter with Method Call
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../introduce-parameter-object.html">
                Introduce Parameter Object
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../remove-setting-method.html">
                Remove Setting Method
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../hide-method.html">
                Hide Method
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../replace-constructor-with-factory-method.html">
                Replace Constructor with Factory Method
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../replace-error-code-with-exception.html">
                Replace Error Code with Exception
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../replace-exception-with-test.html">
                Replace Exception with Test
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="../../../refactoring/techniques/dealing-with-generalization.html">
                Dealing with Generalization
            </a>
    
            <ul >
                            <li class="">
            <a href="../../../pull-up-field.html">
                Pull Up Field
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../pull-up-method.html">
                Pull Up Method
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../pull-up-constructor-body.html">
                Pull Up Constructor Body
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../push-down-method.html">
                Push Down Method
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../push-down-field.html">
                Push Down Field
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../extract-subclass.html">
                Extract Subclass
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../extract-superclass.html">
                Extract Superclass
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../extract-interface.html">
                Extract Interface
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../collapse-hierarchy.html">
                Collapse Hierarchy
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../form-template-method.html">
                Form Template Method
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../replace-inheritance-with-delegation.html">
                Replace Inheritance with Delegation
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../../replace-delegation-with-inheritance.html">
                Replace Delegation with Inheritance
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                        </ul>
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="../../../design-patterns.html">
                <i class="fa fa-fw fa-puzzle-piece" aria-hidden="true"></i> Design Patterns
            </a>
    
            <ul >
                            <li class="">
            <a href="../../what-is-pattern.html">
                What is a Pattern
            </a>
    
            <ul >
                            <li class="">
            <a href="../../what-is-pattern.html">
                What's a design pattern?
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../history.html">
                History of patterns
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../why-learn-patterns.html">
                Why should I learn patterns?
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../criticism.html">
                Criticism of patterns
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../classification.html">
                Classification of patterns
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="">
            <a href="../../catalog.html">
                Catalog
            </a>
    
    
            </li>
                                <li class="menu-third-level">
            <a href="../../creational-patterns.html">
                Creational Patterns
            </a>
    
            <ul >
                            <li class="">
            <a href="../../factory-method.html">
                Factory Method
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../abstract-factory.html">
                Abstract Factory
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../builder.html">
                Builder
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../prototype.html">
                Prototype
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../singleton.html">
                Singleton
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="menu-third-level">
            <a href="../../structural-patterns.html">
                Structural Patterns
            </a>
    
            <ul >
                            <li class="">
            <a href="../../adapter.html">
                Adapter
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../bridge.html">
                Bridge
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../composite.html">
                Composite
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../decorator.html">
                Decorator
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../facade.html">
                Facade
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../flyweight.html">
                Flyweight
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../proxy.html">
                Proxy
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="menu-third-level">
            <a href="../../behavioral-patterns.html">
                Behavioral Patterns
            </a>
    
            <ul >
                            <li class="">
            <a href="../../chain-of-responsibility.html">
                Chain of Responsibility
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../command.html">
                Command
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../iterator.html">
                Iterator
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../mediator.html">
                Mediator
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../memento.html">
                Memento
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../observer.html">
                Observer
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../state.html">
                State
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../strategy.html">
                Strategy
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../template-method.html">
                Template Method
            </a>
    
    
            </li>
                                <li class="">
            <a href="../../visitor.html">
                Visitor
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                                <li class="menu-code-examples">
            <a href="../../examples.html">
                Code Examples
            </a>
    
            <ul >
                            <li class="menu-code-examples-item">
            <a href="../../csharp.html">
                C#
            </a>
    
    
            </li>
                                <li class="menu-code-examples-item">
            <a href="../../cpp.html">
                C++
            </a>
    
    
            </li>
                                <li class="menu-code-examples-item">
            <a href="../../go.html">
                Go
            </a>
    
    
            </li>
                                <li class="menu-code-examples-item">
            <a href="../../java.html">
                Java
            </a>
    
    
            </li>
                                <li class="menu-code-examples-item">
            <a href="../../php.html">
                PHP
            </a>
    
    
            </li>
                                <li class="menu-code-examples-item">
            <a href="../../python.html">
                Python
            </a>
    
    
            </li>
                                <li class="menu-code-examples-item">
            <a href="../../ruby.html">
                Ruby
            </a>
    
    
            </li>
                                <li class="menu-code-examples-item">
            <a href="../../swift.html">
                Swift
            </a>
    
    
            </li>
                                <li class="menu-code-examples-item">
            <a href="../../typescript.html">
                TypeScript
            </a>
    
    
            </li>
                        </ul>
    
            </li>
                        </ul>
    
            </li>
                        </ul>
    
            </div>
        <div class="sidebar-controls">
            <div class="sidebar-controls-container">
                <a href="../../../login.html" title="Log in"><i
                            class="fa fa-fw fa-fw fa-user"></i> Log in</a>
                <a href="https://feedback.refactoring.guru/" class="userecho-public" rel="nofollow" title="Feedback"><i class="fa fa-fw fa-fw fa-envelope" aria-hidden="true"></i> Contact us</a>
            </div>
        </div>
    </div>
</aside>
    <footer class="footer center-content">
    <div class="footer-container center-content-container">
        <div class="footer-inner container-fluid">
            <div class="row">
                <div class="col-8 col-md-10">
                    <ul class="footer-list footer-list-horizontal">
                        <li><a href="../../../index.html">Home</a></li>
                        <li><a href="../../../refactoring.html">Refactoring</a></li>
                        <li><a href="../../../design-patterns.html">Design Patterns</a></li>
                        <li><a href="../../../store.html">Premium Content</a></li>
                        <li><a href="https://refactoring.userecho.com/" rel="nofollow" class="userecho-public">Forum</a></li>
                        <li><a href="https://refactoring.userecho.com/" rel="nofollow" class="userecho-private">Contact us</a></li>
                    </ul>
                </div>
                <div class="col-4 col-md-2">
                    <ul class="footer-list footer-list-iconic">
                                                    <li><a href="https://www.facebook.com/refactoring.guru"><i class="fa fa-facebook-official"></i></a></li>
                                                <li><a href="../../../sendy/form.html" rel="nofollow"><i class="fa fa-envelope" aria-hidden="true"></i></a></li>
                        <li><a href="https://github.com/RefactoringGuru"><i class="fa fa-github-circled"></i></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-second">
        <div class="footer-container center-content-container">
            <div class="footer-inner container-fluid">
                <div class="row">
                    <div class="col-12 col-sm-8">
                        <i class="fa fa-fw fa-copyright"></i> 2014-2022 <a href="../../../index.html">Refactoring.Guru</a>. <span style="white-space: nowrap">All rights reserved.</span><br>
                        <object class="fa-fw" style="height: 0.8rem; filter: invert(50%);"  type="image/svg+xml" data="../../../images/content-public/icons/fa-building4895.svg?id=afddb5806968b0a9acfc1df75a181234">
                            <img class="fa-fw" style="height: 0.8rem;" src="../../../images/content-public/icons/fa-building4895.svg?id=afddb5806968b0a9acfc1df75a181234" alt="Organization address"/>
                        </object> Khmelnitske shosse 19 / 27, Kamianets-Podilskyi, Ukraine, 32305<br>
                        <i class="fa fa-fw fa-envelope"></i>  Email: support@refactoring.guru

                        <div class="mt-2">
                            <i class="fa fa-fw fa-image"></i> Illustrations by <a href="http://zhart.us/" rel="nofollow"><span style="white-space: nowrap">Dmitry Zhart</span></a></div>
                    </div>
                    <div class="footer-links-right col-12 col-sm-4 mt-4 mt-sm-0">
                        <div class="row">
                            <div class="col-8 col-sm-12">
                                <ul class="footer-list">
                                    <li><a href="../../../terms.html"><span>Terms &amp; Conditions</span></a>
                                    </li>
                                    <li><a href="../../../privacy-policy.html"><span>Privacy Policy</span></a>
                                    </li>
                                    <li><a href="../../../content-usage-policy.html"><span>Content Usage Policy</span></a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>

</div>


    <script>
function extend(){var extended={};var deep=false;var i=0;var length=arguments["length"];if(Object["prototype"]["toString"]["call"](arguments[0])=== '[object Boolean]'){deep= arguments[0];i++};var merge=function(obj){for(var prop in obj){if(Object["prototype"]["hasOwnProperty"]["call"](obj,prop)){if(deep&& Object["prototype"]["toString"]["call"](obj[prop])=== '[object Object]'){extended[prop]= extend(true,extended[prop],obj[prop])}else {extended[prop]= obj[prop]}}}};for(;i< length;i++){var obj=arguments[i];merge(obj)};return extended}
function defer(method) {if (window.jQuery) {method();} else {setTimeout(function() { defer(method) }, 50);}}
</script>
<script>
+function(sd){sd = (typeof sd === "string") ? JSON.parse(atob(sd)) : sd;for(var property in sd){if(window[property]!== null&&  typeof window[property]=== 'object'){window[property]= extend(true,window[property],sd[property])}else {window[property]= sd[property]}}}("eyJsb2NhbGUiOiJlbiIsImxvY2FsZV9wcmVmaXgiOiIiLCJsb2NhbGl6ZWRfdXJsX3ByZWZpeF9tIjoiaHR0cHM6XC9cL3JlZmFjdG9yaW5nLmd1cnVcLyIsInVybF9wcmVmaXhfbSI6Imh0dHBzOlwvXC9yZWZhY3RvcmluZy5ndXJ1XC8iLCJsb2NhbGl6ZWRfdXJsX3ByZWZpeCI6Imh0dHBzOlwvXC9yZWZhY3RvcmluZy5ndXJ1XC8iLCJ1cmxfcHJlZml4IjoiaHR0cHM6XC9cL3JlZmFjdG9yaW5nLmd1cnVcLyIsImNoaW5lc2VfaG9tZSI6Imh0dHBzOlwvXC9yZWZhY3RvcmluZ2d1cnUuY25cLyIsInVzZXJfZWNob19hbGlhcyI6InJlZmFjdG9yaW5nIiwidXNlcl9lY2hvX2hvc3QiOiJmZWVkYmFjay5yZWZhY3RvcmluZy5ndXJ1IiwidXNlcl9lY2hvX3ByaXZhdGVfZm9ydW0iOiIyIiwidXNlcl9lY2hvX2xvY2FsZSI6ImVuIiwidXNlcl9lY2hvX3B1YmxpY19mb3J1bSI6IjMiLCJ1c2VyX2VjaG9fcHVibGljX2ZvcnVtX3VybCI6Imh0dHBzOlwvXC9mZWVkYmFjay5yZWZhY3RvcmluZy5ndXJ1XC8iLCJ1c2VyX2VjaG9fc3NvX3Rva2VuIjoiIn0=");
</script>

    <script defer>
        if (window.dataLayer && window.google_optimize) {
            window.dataLayer.push({'event': 'optimize.activate'});
        }
    </script>
 
<script>(function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;h.start=1*new Date;
        h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};
        (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;
    })(window,document.documentElement,'async-hide','dataLayer',4000,
        {'GTM-M58XZN4':true});</script>
<link rel="preconnect dns-prefetch" href="https://www.google-analytics.com/">
<script>
    var getCookie = function(name) {
        var nameEQ = name + "=";
        var ca = document.cookie.split(';');
        for(var i=0;i < ca.length;i++) {
            var c = ca[i];
            while (c.charAt(0)==' ') c = c.substring(1,c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
        }
        return null;
    };
    var eraseCookie = function (name) {
        document.cookie = name+'=; Path=/; Max-Age=-99999999;';
    };

    window.google_analytics = 'UA-521840-40';

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','../../../../www.google-analytics.com/analytics.js','ga');

    var ga_queue = [];
    window.gaOnCreate = function(){
        ga_queue.push(arguments);
    };

            doTracking();
    
    function doTracking(clientId) {
        window.gaOnCreate = function(){
            ga.apply(this, arguments);
        };

        var options = {
            'siteSpeedSampleRate': 100
        };
        if (clientId) {
            options.clientId = clientId;
        }
        ga('create', 'UA-521840-40', options);

                    ga('require', 'GTM-M58XZN4');
            window.google_optimize = 'GTM-M58XZN4';
        
        // Fix broken Social Login referrer.
        window.social_login_provider = window.social_login_provider || getCookie('social_login_provider');
        if (window.social_login_provider) {
            ga('set', 'referrer', null);
            ga('send', 'social', window.social_login_provider, 'login', window.location.href);
            eraseCookie('social_login_provider');
        }

        var user_id = getCookie('user_id');
        if (user_id) {
            ga('set', 'userId', user_id);
        } else {
            ga('set', 'userId', null);
        }

        var location = document.location.href;
        if (typeof window.analytics_path_prefix === 'string') {
            if (/^(https?:\/\/[^\/]+?)\/$/.test(location)) {
                location = location.replace(/(https?:\/\/[^\/]+?)\//, '$1' + window.analytics_path_prefix);
            }
            else {
                location = location.replace(/(https?:\/\/[^\/]+?)\//, '$1' + window.analytics_path_prefix + '/');
            }
            ga('set', 'location', location);
        }

        if (typeof window.analytics_location_prefix === 'string') {
            location = location.replace(/(https?:\/\/[^\/]+?)\//, window.analytics_location_prefix);
            ga('set', 'location', location);
        }

        ga('require', 'ec');
        ga('send', 'pageview', (typeof window.analytics_path_prefix === 'string' ? window.analytics_path_prefix : '') + document.location.pathname);

        ga_queue.forEach(function(item){
            ga.apply(this, item);
        });
    }
</script>

<script defer>
    window.socialLikesButtons = {
                facebook: {
            counterUrl: "",
            convertNumber: null
        },
                        };
</script>

<script defer>
    var CodeMirrorScripts = ["/js/codemirror.min.js?id=24aa863dfde7c99eb17d4102684aea27"];
</script>



    <script>window.loadContent = true;window.loadCart = true;</script>
</body>

<!-- Mirrored from refactoring.guru/design-patterns/chain-of-responsibility/php/example by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 07 Jun 2022 19:24:00 GMT -->
</html>